{{ define "email.subject" }}[{{ .Status | toUpper }}{{ if eq .Status "firing" }}]{{ else }} RESOLVIDO]{{ end }} {{ .GroupLabels.alertname }} - {{ .GroupLabels.category | title }}{{ end }}

{{ define "email.html" }}
<!DOCTYPE html>
<html>
<head>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
        .alert { border-left: 5px solid; padding: 15px; margin: 15px 0; border-radius: 4px; }
        .firing { border-color: #e74c3c; background-color: #fdecea; }
        .resolved { border-color: #2ecc71; background-color: #e8f8f0; }
        .header { font-size: 1.4em; font-weight: bold; margin-bottom: 10px; }
        .label { font-weight: bold; color: #555; margin-right: 5px; }
        .emoji { font-size: 1.3em; vertical-align: middle; margin-right: 5px; }
        .alert-item { margin-bottom: 8px; }
        hr { border: 0; height: 1px; background: #ddd; margin: 15px 0; }
    </style>
</head>
<body>
    <div class="alert {{ if eq .Status "firing" }}firing{{ else }}resolved{{ end }}">
        <div class="header">
            <span class="emoji">{{ if eq .Status "firing" }}ğŸš¨{{ else }}ğŸ“Š{{ end }}</span>
            {{ .GroupLabels.alertname }}
        </div>

        <div class="alert-item">
            <span class="emoji">ğŸ”„</span>
            <span class="label">Status:</span> {{ .Status | toUpper }}
        </div>
        <div class="alert-item">
            <span class="emoji">ğŸ·ï¸</span>
            <span class="label">Categoria:</span> {{ .GroupLabels.category }}
        </div>
        <div class="alert-item">
            <span class="emoji">âš ï¸</span>
            <span class="label">Severidade:</span> {{ .GroupLabels.severity | toUpper }}
        </div>

        {{ range .Alerts }}
        <hr>
        <div class="alert-item">
            <span class="emoji">ğŸ“‹</span>
            <span class="label">Resumo:</span> {{ .Annotations.summary }}
        </div>
        <div class="alert-item">
            <span class="emoji">ğŸ“</span>
            <span class="label">DescriÃ§Ã£o:</span> {{ .Annotations.description }}
        </div>
        <div class="alert-item">
            <span class="emoji">ğŸ–¥ï¸</span>
            <span class="label">InstÃ¢ncia:</span> {{ .Labels.instance }}
        </div>
        <div class="alert-item">
            <span class="emoji">ğŸ•’</span>
            <span class="label">HorÃ¡rio:</span> {{ .StartsAt.Local.Format "2006-01-02 15:04:05" }}
        </div>
        {{ if .EndsAt }}
        <div class="alert-item">
            <span class="emoji">âœ…</span>
            <span class="label">Resolvido em:</span> {{ .EndsAt.Local.Format "2006-01-02 15:04:05" }}
        </div>
        {{ end }}
        {{ end }}
    </div>
</body>
</html>
{{ end }}

{{ define "telegram.message" }}
{{ if eq .Status "firing" }}ğŸš¨ <b>ALERTA</b>{{ else }}ğŸ“Š <b>RELATÃ“RIO</b>{{ end }}

ğŸ“Œ <b>Tipo:</b> {{ .GroupLabels.alertname }}
ğŸ”„ <b>Status:</b> {{ .Status | toUpper }}
ğŸ·ï¸ <b>Categoria:</b> {{ .GroupLabels.category }}
âš ï¸ <b>Severidade:</b> {{ .GroupLabels.severity | toUpper }}

{{ range .Alerts }}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“‹ <b>Resumo:</b> {{ .Annotations.summary }}
ğŸ“ <b>DescriÃ§Ã£o:</b> {{ .Annotations.description }}
ğŸ–¥ï¸ <b>InstÃ¢ncia:</b> {{ .Labels.instance }}
ğŸ•’ <b>HorÃ¡rio:</b> {{ .StartsAt.Local.Format "2006-01-02 15:04:05" }}
{{ if .EndsAt }}âœ… <b>Resolvido em:</b> {{ .EndsAt.Local.Format "2006-01-02 15:04:05" }}{{ end }}
{{ end }}
{{ end }}
